{"version":3,"sources":["webpack:///node_modules/walletlink/dist/components/Spinner.js","webpack:///node_modules/walletlink/dist/components/LinkDialog.js","webpack:///node_modules/walletlink/dist/relay/aes256gcm.js","webpack:///node_modules/walletlink/dist/vendor-js/keccak/lib/api/index.js","webpack:///node_modules/walletlink/dist/connection/ServerMessage.js","webpack:///node_modules/walletlink/dist/vendor-js/keccak/lib/keccak.js","webpack:///node_modules/walletlink/dist/vendor-js/qrcode-svg/index.js","webpack:///node_modules/walletlink/dist/vendor-js/keccak/lib/api/keccak.js","webpack:///node_modules/walletlink/dist/relay/Web3RequestMessage.js","webpack:///node_modules/bind-decorator/index.js","webpack:///node_modules/walletlink/dist/relay/Web3Method.js","webpack:///node_modules/walletlink/dist/connection/RxWebSocket.js","webpack:///node_modules/walletlink/dist/provider/FilterPolyfill.js","webpack:///node_modules/walletlink/dist/provider/JSONRPC.js","webpack:///node_modules/walletlink/dist/vendor-js/keccak/lib/api/shake.js","webpack:///node_modules/walletlink/dist/relay/Web3RequestCanceledMessage.js","webpack:///node_modules/walletlink/dist/vendor-js/eth-eip712-util/util.js","webpack:///node_modules/walletlink/dist/components/QRCode.js","webpack:///node_modules/walletlink/dist/connection/WalletLinkConnection.js","webpack:///node_modules/walletlink/dist/relay/Web3ResponseMessage.js","webpack:///node_modules/walletlink/dist/lib/cssReset-css.js","webpack:///node_modules/walletlink/dist/lib/cssReset.js","webpack:///node_modules/walletlink/dist/index.js","webpack:///node_modules/walletlink/dist/vendor-js/eth-eip712-util/index.js","webpack:///node_modules/walletlink/dist/components/LinkFlow.js","webpack:///node_modules/walletlink/dist/WalletLink.js","webpack:///node_modules/walletlink/dist/relay/Session.js","webpack:///node_modules/walletlink/dist/relay/WalletLinkRelay.js","webpack:///node_modules/walletlink/dist/lib/ScopedLocalStorage.js","webpack:///node_modules/walletlink/dist/components/LinkDialog-css.js","webpack:///node_modules/walletlink/dist/provider/WalletLinkProvider.js","webpack:///node_modules/walletlink/dist/vendor-js/eth-eip712-util/abi.js","webpack:///node_modules/walletlink/dist/components/Snackbar.js","webpack:///node_modules/clsx/dist/clsx.m.js","webpack:///node_modules/walletlink/dist/connection/ClientMessage.js","webpack:///node_modules/walletlink/dist/vendor-js/keccak/index.js","webpack:///node_modules/walletlink/dist/util.js","webpack:///node_modules/walletlink/dist/relay/RelayMessage.js","webpack:///node_modules/walletlink/dist/types.js","webpack:///node_modules/walletlink/dist/provider/Web3Provider.js","webpack:///node_modules/walletlink/dist/vendor-js/keccak/lib/keccak-state-unroll.js","webpack:///node_modules/walletlink/dist/components/Spinner-css.js","webpack:///node_modules/walletlink/dist/components/Snackbar-css.js","webpack:///node_modules/walletlink/dist/relay/Web3Response.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","preact_1","Spinner_css_1","Spinner","props","_a","size","color","h","viewBox","xmlns","style","width","height","cx","cy","r","stroke","clsx_1","hooks_1","LinkDialog_css_1","QRCode_1","Spinner_1","LinkDialog","useState","isOpen","isContainerHidden","setContainerHidden","isDialogHidden","setDialogHidden","useEffect","timers","window","setTimeout","push","forEach","clearTimeout","darkMode","ScanQRCode","version","sessionId","sessionSecret","walletLinkUrl","isConnected","onCancel","CancelButton","onClick","serverUrl","encodeURIComponent","qrUrl","QRCode","content","fgColor","bgColor","type","title","href","target","rel","crypto_1","encrypt","plainText","secret","iv","randomBytes","cipher","createCipheriv","Buffer","from","encrypted","concat","update","getAuthTag","toString","decrypt","cipherText","buf","slice","authTag","decipher","createDecipheriv","setAuthTag","createKeccak","createShake","module","KeccakState","Keccak","Shake","algorithm","options","hash","toLowerCase","Error","isServerMessageFail","msg","id","error","state","blockSize","count","squeezing","prototype","initialize","rate","capacity","i","absorb","data","length","keccakState","p1600","absorbLastFewBits","bits","squeeze","output","alloc","copy","dest","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","code","charCodeAt","Array","apply","unshift","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","c","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","y","x","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","getBCHTypeNumber","Math","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","qrCode","sameCount","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","instance","padding","background","ecl","_getErrorCorrectLevel","_getTypeNumber","_getUTF8Length","limit","len","table","result","encodeURI","replace","qrcode","svg","opt","container","pretty","indent","EOL","xsize","ysize","join","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","t","w","Number","isInteger","toFixed","Transform","delimitedSuffix","hashBitLength","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","_finalized","chunk","encoding","callback","err","digest","isBuffer","TypeError","_resetState","clone","RelayMessage_1","Web3RequestMessage","params","assign","RelayMessageType","WEB3_REQUEST","constants","typeOfFunction","boolTrue","bind","propertyKey","descriptor","configurable","bound","writable","Web3Method","rxjs_1","operators_1","ConnectionState","RxWebSocket","url","WebSocketClass","WebSocket","webSocket","connectionStateSubject","BehaviorSubject","DISCONNECTED","incomingDataSubject","Subject","throwError","Observable","obs","next","CONNECTING","onclose","evt","clearWebSocket","reason","onopen","_","complete","CONNECTED","onmessage","pipe","take","close","send","onerror","asObservable","incomingData$","flatMap","m","JSON","parse","empty","of","types_1","util_1","TIMEOUT","JSONRPC_TEMPLATE","jsonrpc","FilterPolyfill","provider","logFilters","Map","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","IntNumber","param","filter","filterFromParam","makeFilterId","setInitialCursorPosition","fromBlock","cursor","console","log","set","setFilterTimeout","hexStringFromIntNumber","add","filterId","intNumberFromHexString","deleteFilter","has","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","Promise","resolve","filterNotFoundError","sendAsyncPromise","method","paramFromFilter","request","reject","sendAsync","response","isArray","stringify","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blocks","map","blockNumber","highestBlock","newCursorPosition","all","range","getBlockHashByNumber","_id","startBlock","initialCursorPosition","existing","timeout","ensureHexString","intBlockHeightFromHexBlockHeight","addresses","address","topics","hexBlockHeightFromIntBlockHeight","isHexString","message","JSONRPCMethod","dataByteLength","Web3RequestCanceledMessage","WEB3_REQUEST_CANCELED","createKeccakHash","BN","zeros","bytes","allocUnsafe","fill","setLength","right","toBuffer","setLengthRight","v","padToEven","stripHexPrefix","intToBuffer","isBN","toArrayLike","toArray","bufferToHex","keccak","str","match","startsWith","qrcode_svg_1","setSvg","_b","base64","src","alt","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","REQUEST_TIMEOUT","WalletLinkConnection","sessionKey","subscriptions","Subscription","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ReplaySubject","ws","connectionState$","skip","delay","connect","retry","subscribe","switchMap","iif","authenticate","tap","sendIsLinked","sendGetSessionConfig","distinctUntilChanged","catchError","connected","timer","updateLastHeartbeat","heartbeat","incomingJSONData$","includes","linked","onlineGuests","webhookId","webhookUrl","metadata","unsubscribe","disconnect","key","ClientMessageSetSessionConfig","onceConnected$","makeRequest","res","event","callWebhook","ClientMessagePublishEvent","onceLinked$","eventId","sendData","Date","now","reqId","timeoutWith","ClientMessageHostSession","ClientMessageIsLinked","ClientMessageGetSessionConfig","connected$","linked$","sme","Web3ResponseMessage","WEB3_RESPONSE","isWeb3ResponseMessage","cssReset_css_1","injectCssReset","styleEl","document","createElement","appendChild","createTextNode","documentElement","WalletLinkProvider_1","WalletLink_1","WalletLinkProvider_2","WalletLinkProvider","WalletLink_2","WalletLink","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","name","required","primaryType","domain","TypedDataUtils","encodeData","useV4","encodedTypes","encodedValues","hashType","encodeField","util","lastIndexOf","parsedType","typeValuePairs","item","rawEncode","field","encodeType","deps","findTypeDependencies","dep","sort","children","results","hashStruct","sanitizeData","sanitizedData","EIP712Domain","typedData","parts","hashForSignTypedDataLegacy","msgParams","typedSignatureHashLegacy","hashForSignTypedData_v3","hashForSignTypedData_v4","schema","soliditySHA3","LinkDialog_1","LinkFlow","root","el","className","render","parentElement","removeChild","cssReset_1","WalletLinkRelay_1","WALLETLINK_URL","process","env","WALLETLINK_VERSION","_appName","_appLogoUrl","_relay","WalletLinkRelay","setAppInfo","appName","appLogoUrl","attach","jsonRpcUrl","chainId","relay","getFavicon","resetAndReload","VERSION","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","Session","storage","_storage","_secret","_key","createHash","_linked","setItem","persistLinked","val","getItem","removeItem","fromEvent","oldValue","newValue","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","__importStar","k","hasOwnProperty","call","bind_decorator_1","url_1","LinkFlow_1","Snackbar_1","WalletLinkConnection_1","ScopedLocalStorage_1","aes256gcm","Session_1","Web3Method_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","attached","u","walletLinkOrigin","protocol","host","ScopedLocalStorage","session","load","save","connection","incomingEvent$","handleIncomingEvent","sessionConfig$","__destroyed","snackbar","Snackbar","linkFlow","setSessionMetadata","destroy","clear","location","reload","sendRequest","requestEthereumAccounts","addPrefix","typedDataJson","signEthereumMessage","hexStringFromBuffer","signature","ethereumAddressFromSignedMessage","signEthereumTransaction","fromAddress","toAddress","weiValue","bigIntStringFromBN","nonce","gasPriceInWei","gasLimit","shouldSubmit","signedTransaction","submitEthereumTransaction","regExp","scanQRCode","arbitrary","hideSnackbarItem","isRequestAccounts","cancel","publishWeb3RequestCanceledEvent","handleWeb3ResponseMessage","ErrorResponse","open","accountRequestCallbackIds","snackbarProps","showProgressBar","actions","info","buttonLabel","presentItem","callbacks","errorMessage","publishWeb3RequestEvent","publishEvent","origin","json","isRequestEthereumAccountsResponse","values","invokeCallback","scope","localStorage","scopedKey","prefix","keysToRemove","bn_js_1","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","Web3Provider_1","LOCAL_STORAGE_ADDRESSES_KEY","_filterPolyfill","_addresses","_send","_sendAsync","_chainId","ensureIntNumber","_jsonRpcUrl","cahedAddresses","getStorageItem","split","eth_requestAccounts","requestOrMethod","callbackOrParams","_sendRequestAsync","then","requests","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","cb","ensureRegExpString","arbitraryRequest","_handleSynchronousMethods","ensureAddressString","setStorageItem","dispatchEvent","CustomEvent","detail","syncResult","filterPromise","_handleAsynchronousFilterMethods","_handleAsynchronousMethods","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","_eth_requestAccounts","eth_sign","_eth_sign","eth_ecRecover","_eth_ecRecover","personal_sign","_personal_sign","personal_ecRecover","_personal_ecRecover","eth_signTransaction","_eth_signTransaction","eth_sendRawTransaction","_eth_sendRawTransaction","eth_sendTransaction","_eth_sendTransaction","eth_signTypedData_v1","_eth_signTypedData_v1","eth_signTypedData_v2","_throwUnsupportedMethodError","eth_signTypedData_v3","_eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","_eth_signTypedData_v4","walletlink_arbitrary","_walletlink_arbitrary","fetch","body","headers","ProviderError","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","addressString","_isKnownAddress","tx","selectedAddress","_ensureKnownAddress","to","ensureBN","ensureBuffer","gasPrice","gas","ProviderErrorCode","UNAUTHORIZED","UNSUPPORTED_METHOD","USER_DENIED_REQUEST_SIGNATURE","USER_DENIED_REQUEST_ACCOUNTS","_setAddresses","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signAndSubmitEthereumTransaction","uninstallFilter","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","elementaryName","parseTypeN","parseInt","exec","parseTypeNxM","tmp","parseTypeArray","parseNumber","arg","encodeSingle","ret","bitLength","toTwos","mul","pow","isDynamic","headLength","cur","solidityPack","Snackbar_css_1","nextItemKey","itemProps","SnackbarContainer","entries","SnackbarItem","hidden","setHidden","expanded","setExpanded","toggleExpanded","action","toVal","mix","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","includePrefix","hex","HexString","bn","BigIntString","ensureEvenLengthHexString","toNumber","has0xPrefix","strip0x","prepend0x","s","AddressString","RegExp","RegExpString","isBigNumber","constructor","config","EUCLID","start","stop","querySelector","getAttribute","OpaqueType","setPrototypeOf","P1600_ROUND_CONSTANTS","round","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","lo","hi","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","RequestEthereumAccountsResponse"],"mappings":"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","file":"walletlink-es5.js","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nexports.Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return (preact_1.h(\"div\", { class: \"-walletlink-spinner\" },\n        preact_1.h(\"style\", null, Spinner_css_1.default),\n        preact_1.h(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            preact_1.h(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst LinkDialog_css_1 = __importDefault(require(\"./LinkDialog-css\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nexports.LinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = hooks_1.useState(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = hooks_1.useState(!props.isOpen);\n    hooks_1.useEffect(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-link-dialog-container\", props.darkMode && \"-walletlink-link-dialog-container-dark\", isContainerHidden && \"-walletlink-link-dialog-container-hidden\") },\n        preact_1.h(\"style\", null, LinkDialog_css_1.default),\n        preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-link-dialog-backdrop\", isDialogHidden && \"-walletlink-link-dialog-backdrop-hidden\") }),\n        preact_1.h(\"div\", { class: \"-walletlink-link-dialog\" },\n            preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-link-dialog-box\", isDialogHidden && \"-walletlink-link-dialog-box-hidden\") },\n                preact_1.h(ScanQRCode, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected }),\n                props.onCancel && preact_1.h(CancelButton, { onClick: props.onCancel })))));\n};\nconst ScanQRCode = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const qrUrl = `${props.walletLinkUrl}/#/link?id=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return (preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content\" },\n        preact_1.h(\"h3\", null,\n            \"Scan to\",\n            preact_1.h(\"br\", null),\n            \" Connect\"),\n        preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode\" },\n            preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-wrapper\" },\n                preact_1.h(QRCode_1.QRCode, { content: qrUrl, width: 224, height: 224, fgColor: \"#000\", bgColor: \"transparent\" })),\n            preact_1.h(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && (preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-connecting\" },\n                preact_1.h(Spinner_1.Spinner, { size: 128, color: props.darkMode ? \"#fff\" : \"#000\" }),\n                preact_1.h(\"p\", null, \"Connecting...\"))),\n            preact_1.h(\"p\", { title: `WalletLink v${props.version}` }, \"Powered by WalletLink\")),\n        preact_1.h(\"a\", { href: `${props.walletLinkUrl}/#/wallets`, target: \"_blank\", rel: \"noopener\" }, \"Don\\u2019t have a wallet app?\")));\n};\nconst CancelButton = props => (preact_1.h(\"button\", { class: \"-walletlink-link-dialog-box-cancel\", onClick: props.onClick },\n    preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = __importDefault(require(\"crypto\"));\nfunction encrypt(plainText, secret) {\n    const iv = crypto_1.default.randomBytes(12);\n    const cipher = crypto_1.default.createCipheriv(\"aes-256-gcm\", Buffer.from(secret, \"hex\"), iv);\n    const encrypted = Buffer.concat([\n        cipher.update(Buffer.from(plainText, \"utf8\")),\n        cipher.final()\n    ]);\n    return Buffer.concat([iv, cipher.getAuthTag(), encrypted]).toString(\"hex\");\n}\nexports.encrypt = encrypt;\nfunction decrypt(cipherText, secret) {\n    const buf = Buffer.from(cipherText, \"hex\");\n    const iv = buf.slice(0, 12);\n    const authTag = buf.slice(12, 28);\n    const encrypted = buf.slice(28);\n    const decipher = crypto_1.default.createDecipheriv(\"aes-256-gcm\", Buffer.from(secret, \"hex\"), iv);\n    decipher.setAuthTag(authTag);\n    return Buffer.concat([decipher.update(encrypted), decipher.final()]).toString(\"utf8\");\n}\nexports.decrypt = decrypt;\n","const createKeccak = require('./keccak')\nconst createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  const Keccak = createKeccak(KeccakState)\n  const Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    const hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","const keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (let i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (let i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  const output = Buffer.alloc(length)\n  for (let i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (let i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\"\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += '</g>';\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","const { Transform } = require('stream')\n\nmodule.exports = (KeccakState) => class Keccak extends Transform {\n  constructor (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    super(options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  _transform (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  _flush (callback) {\n    let error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  update (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  digest (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    let digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  _resetState () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  _clone () {\n    const clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants;\n(function (constants) {\n    constants.typeOfFunction = 'function';\n    constants.boolTrue = true;\n})(constants || (constants = {}));\nfunction bind(target, propertyKey, descriptor) {\n    if (!descriptor || (typeof descriptor.value !== constants.typeOfFunction)) {\n        throw new TypeError(\"Only methods can be decorated with @bind. <\" + propertyKey + \"> is not a method!\");\n    }\n    return {\n        configurable: constants.boolTrue,\n        get: function () {\n            var bound = descriptor.value.bind(this);\n            // Credits to https://github.com/andreypopp/autobind-decorator for memoizing the result of bind against a symbol on the instance.\n            Object.defineProperty(this, propertyKey, {\n                value: bound,\n                configurable: constants.boolTrue,\n                writable: constants.boolTrue\n            });\n            return bound;\n        }\n    };\n}\nexports.bind = bind;\nexports.default = bind;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"arbitrary\"] = \"arbitrary\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return rxjs_1.throwError(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe(operators_1.take(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe(operators_1.flatMap(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return rxjs_1.empty();\n            }\n            return rxjs_1.of(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = types_1.IntNumber(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    uninstallFilter(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return types_1.IntNumber(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => util_1.intNumberFromHexString(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = types_1.IntNumber(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(util_1.range(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber(types_1.IntNumber(i))))).filter(hash => !!hash);\n        const newCursorPosition = types_1.IntNumber(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return util_1.intNumberFromHexString(util_1.ensureHexString(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [util_1.hexStringFromIntNumber(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return util_1.ensureHexString(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return types_1.IntNumber(0);\n    }\n    else if (util_1.isHexString(value)) {\n        return util_1.intNumberFromHexString(value);\n    }\n    throw new Error(`Invalid block option: ${value}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return util_1.hexStringFromIntNumber(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","const { Transform } = require('stream')\n\nmodule.exports = (KeccakState) => class Shake extends Transform {\n  constructor (rate, capacity, delimitedSuffix, options) {\n    super(options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  _transform (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  _flush () {}\n\n  _read (size) {\n    this.push(this.squeeze(size))\n  }\n\n  update (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  squeeze (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    let data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  _resetState () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  _clone () {\n    const clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('../keccak')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nexports.QRCode = props => {\n    const [svg, setSvg] = hooks_1.useState(\"\");\n    hooks_1.useEffect(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? preact_1.h(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * WalletLink Connection\n */\nclass WalletLinkConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param serverUrl Walletlinkd RPC URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, serverUrl, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = types_1.IntNumber(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(serverUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        operators_1.skip(1), \n        // if DISCONNECTED and not destroyed\n        operators_1.filter(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        operators_1.delay(5000), \n        // check whether it's destroyed again\n        operators_1.filter(_ => !this.destroyed), \n        // reconnect\n        operators_1.flatMap(_ => ws.connect()), operators_1.retry())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        operators_1.skip(2), operators_1.switchMap(cs => rxjs_1.iif(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe(operators_1.tap(_ => this.sendIsLinked()), operators_1.tap(_ => this.sendGetSessionConfig()), operators_1.map(_ => true)), \n        // if not CONNECTED, emit false immediately\n        rxjs_1.of(false))), operators_1.distinctUntilChanged(), operators_1.catchError(_ => rxjs_1.of(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        operators_1.skip(1), operators_1.switchMap(cs => rxjs_1.iif(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        rxjs_1.timer(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe(operators_1.filter(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe(operators_1.filter(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe(operators_1.filter(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletLinkConnection\n     */\n    destroy() {\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        this.destroyed = true;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe(operators_1.filter(v => v), operators_1.take(1), operators_1.map(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe(operators_1.filter(v => v), operators_1.take(1), operators_1.map(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe(operators_1.filter(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), operators_1.map(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = ClientMessage_1.ClientMessageSetSessionConfig({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value }\n        });\n        return this.onceConnected$.pipe(operators_1.flatMap(_ => this.makeRequest(message)), operators_1.map(res => {\n            if (ServerMessage_1.isServerMessageFail(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = ClientMessage_1.ClientMessagePublishEvent({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook\n        });\n        return this.onceLinked$.pipe(operators_1.flatMap(_ => this.makeRequest(message)), operators_1.map(res => {\n            if (ServerMessage_1.isServerMessageFail(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return rxjs_1.throwError(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe(operators_1.timeoutWith(timeout, rxjs_1.throwError(new Error(`request ${reqId} timed out`))), operators_1.filter(m => m.id === reqId), operators_1.take(1));\n    }\n    authenticate() {\n        const msg = ClientMessage_1.ClientMessageHostSession({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey\n        });\n        return this.makeRequest(msg).pipe(operators_1.map(res => {\n            if (ServerMessage_1.isServerMessageFail(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = ClientMessage_1.ClientMessageIsLinked({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = ClientMessage_1.ClientMessageGetSessionConfig({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletLinkConnection = WalletLinkConnection;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto;all:initial;all:unset}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLink_1 = require(\"./WalletLink\");\nvar WalletLinkProvider_2 = require(\"./provider/WalletLinkProvider\");\nexports.WalletLinkProvider = WalletLinkProvider_2.WalletLinkProvider;\nvar WalletLink_2 = require(\"./WalletLink\");\nexports.WalletLink = WalletLink_2.WalletLink;\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.connected$ = options.connected$;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        preact_1.render(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        preact_1.render(preact_1.h(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, onCancel: this.onCancel }), this.root);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst cssReset_1 = require(\"./lib/cssReset\");\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLinkRelay_1 = require(\"./relay/WalletLinkRelay\");\nconst util_1 = require(\"./util\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    /**\n     * Constructor\n     * @param options WalletLink options object\n     */\n    constructor(options) {\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl: options.walletLinkUrl || WALLETLINK_URL,\n            version: WALLETLINK_VERSION,\n            darkMode: !!options.darkMode\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        this._relay.attach(document.documentElement);\n        cssReset_1.injectCssReset();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl, chainId = 1) {\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relay: this._relay,\n            jsonRpcUrl,\n            chainId\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || util_1.getFavicon();\n        this._relay.setAppInfo(this._appName, this._appLogoUrl);\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        this._relay.resetAndReload();\n    }\n}\nexports.WalletLink = WalletLink;\n/**\n * WalletLink version\n */\nWalletLink.VERSION = WALLETLINK_VERSION;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || crypto_1.default.randomBytes(16).toString(\"hex\");\n        this._secret = secret || crypto_1.default.randomBytes(32).toString(\"hex\");\n        this._key = crypto_1.default\n            .createHash(\"sha256\")\n            .update(`${this._id}, ${this._secret} WalletLink`, \"ascii\")\n            .digest(\"hex\");\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static clear(storage) {\n        storage.removeItem(STORAGE_KEY_SESSION_SECRET);\n        storage.removeItem(STORAGE_KEY_SESSION_ID);\n        storage.removeItem(STORAGE_KEY_SESSION_LINKED);\n    }\n    static get persistedSessionIdChange$() {\n        return rxjs_1.fromEvent(window, \"storage\").pipe(operators_1.filter(evt => evt.key === STORAGE_KEY_SESSION_ID), operators_1.map(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null\n        })));\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst url_1 = __importDefault(require(\"url\"));\nconst LinkFlow_1 = require(\"../components/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar\");\nconst WalletLinkConnection_1 = require(\"../connection/WalletLinkConnection\");\nconst ScopedLocalStorage_1 = require(\"../lib/ScopedLocalStorage\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nclass WalletLinkRelay {\n    constructor(options) {\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.attached = false;\n        this.walletLinkUrl = options.walletLinkUrl;\n        const u = url_1.default.parse(this.walletLinkUrl);\n        this.walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this.storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${this.walletLinkOrigin}`);\n        this.session =\n            Session_1.Session.load(this.storage) || new Session_1.Session(this.storage).save();\n        this.connection = new WalletLinkConnection_1.WalletLinkConnection(this.session.id, this.session.key, this.walletLinkUrl);\n        this.connection.incomingEvent$\n            .pipe(operators_1.filter(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent });\n        // if session is marked destroyed, reset and reload\n        this.connection.sessionConfig$\n            .pipe(operators_1.filter(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe({ next: this.resetAndReload });\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: this.session.id,\n            sessionSecret: this.session.secret,\n            walletLinkUrl: this.walletLinkUrl,\n            connected$: this.connection.connected$\n        });\n        this.connection.connect();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe(operators_1.timeout(1000), operators_1.catchError(_ => rxjs_1.of(null)))\n            .subscribe(_ => {\n            this.connection.destroy();\n            this.storage.clear();\n            document.location.reload();\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    attach(el) {\n        if (this.attached) {\n            throw new Error(\"WalletLinkRelay is already attached\");\n        }\n        const container = document.createElement(\"div\");\n        container.className = \"-walletlink-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    requestEthereumAccounts() {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        });\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: util_1.hexStringFromBuffer(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: util_1.hexStringFromBuffer(message, true),\n                signature: util_1.hexStringFromBuffer(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: util_1.bigIntStringFromBN(params.weiValue),\n                data: util_1.hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? util_1.bigIntStringFromBN(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: util_1.bigIntStringFromBN(params.weiValue),\n                data: util_1.hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? util_1.bigIntStringFromBN(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: util_1.hexStringFromBuffer(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    arbitraryRequest(data) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.arbitrary,\n            params: { data }\n        });\n    }\n    sendRequest(request) {\n        return new Promise((resolve, reject) => {\n            let hideSnackbarItem = null;\n            const id = crypto_1.default.randomBytes(8).toString(\"hex\");\n            const isRequestAccounts = request.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n            const cancel = () => {\n                this.publishWeb3RequestCanceledEvent(id);\n                this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                    id,\n                    response: Web3Response_1.ErrorResponse(request.method, \"User rejected request\")\n                }));\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n            };\n            if (isRequestAccounts) {\n                this.linkFlow.open({ onCancel: cancel });\n                WalletLinkRelay.accountRequestCallbackIds.add(id);\n            }\n            else {\n                const snackbarProps = {\n                    message: \"Pushed a request to your wallet...\",\n                    showProgressBar: true,\n                    actions: [\n                        {\n                            info: \"Made a mistake?\",\n                            buttonLabel: \"Cancel\",\n                            onClick: cancel\n                        },\n                        {\n                            info: \"Not receiving requests?\",\n                            buttonLabel: \"Reset Connection\",\n                            onClick: this.resetAndReload\n                        }\n                    ]\n                };\n                hideSnackbarItem = this.snackbar.presentItem(snackbarProps);\n            }\n            WalletLinkRelay.callbacks.set(id, response => {\n                this.linkFlow.close();\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n    publishWeb3RequestEvent(id, request) {\n        const message = Web3RequestMessage_1.Web3RequestMessage({ id, request });\n        this.publishEvent(\"Web3Request\", message, true).subscribe({\n            error: err => {\n                this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message\n                    }\n                }));\n            }\n        });\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = Web3RequestCanceledMessage_1.Web3RequestCanceledMessage(id);\n        this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe();\n    }\n    publishEvent(event, message, callWebhook) {\n        const encrypted = aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), this.session.secret);\n        return this.connection.publishEvent(event, encrypted, callWebhook);\n    }\n    handleIncomingEvent(event) {\n        let json;\n        try {\n            json = JSON.parse(aes256gcm.decrypt(event.data, this.session.secret));\n        }\n        catch (_a) {\n            return;\n        }\n        const message = Web3ResponseMessage_1.isWeb3ResponseMessage(json) ? json : null;\n        if (!message) {\n            return;\n        }\n        this.handleWeb3ResponseMessage(message);\n    }\n    handleWeb3ResponseMessage(message) {\n        const { response } = message;\n        if (Web3Response_1.isRequestEthereumAccountsResponse(response)) {\n            Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    invokeCallback(message) {\n        const callback = WalletLinkRelay.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            WalletLinkRelay.callbacks.delete(message.id);\n        }\n    }\n}\nWalletLinkRelay.callbacks = new Map();\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst Web3Provider_1 = require(\"./Web3Provider\");\nconst LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nclass WalletLinkProvider {\n    constructor(options) {\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._addresses = [];\n        this._send = this.send;\n        this._sendAsync = this.sendAsync;\n        if (!options.relay) {\n            throw new Error(\"realy must be provided\");\n        }\n        if (!options.jsonRpcUrl) {\n            throw new Error(\"jsonRpcUrl must be provided\");\n        }\n        this._relay = options.relay;\n        this._chainId = util_1.ensureIntNumber(options.chainId || 1);\n        this._jsonRpcUrl = options.jsonRpcUrl;\n        const cahedAddresses = this._relay.getStorageItem(LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cahedAddresses) {\n            const addresses = cahedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses;\n            }\n        }\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this._chainId.toString(10);\n    }\n    get isWalletLink() {\n        return true;\n    }\n    get host() {\n        return this._jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    async enable() {\n        if (this._addresses.length > 0) {\n            return this._addresses;\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    close() {\n        this._relay.resetAndReload();\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async scanQRCode(match) {\n        const res = await this._relay.scanQRCode(util_1.ensureRegExpString(match));\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async arbitraryRequest(data) {\n        const res = await this._relay.arbitraryRequest(data);\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        this._addresses = addresses.map(address => util_1.ensureAddressString(address));\n        this._relay.setStorageItem(LOCAL_STORAGE_ADDRESSES_KEY, addresses.join(\" \"));\n        window.dispatchEvent(new CustomEvent(\"walletlink:addresses\", { detail: this._addresses }));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            default:\n                return undefined;\n        }\n    }\n    _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n        }\n        return window\n            .fetch(this._jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw new Web3Provider_1.ProviderError(\"unexpected response\");\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw new Web3Provider_1.ProviderError(error.message || \"RPC Error\", error.code, error.data);\n            }\n            return response;\n        });\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = util_1.ensureAddressString(addressString);\n            return this._addresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? util_1.ensureAddressString(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? util_1.ensureAddressString(tx.to) : null;\n        const weiValue = tx.value != null ? util_1.ensureBN(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? util_1.ensureBuffer(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? util_1.ensureIntNumber(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? util_1.ensureBN(tx.gasPrice) : null;\n        const gasLimit = tx.gas != null ? util_1.ensureBN(tx.gas) : null;\n        const chainId = this._chainId;\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw new Web3Provider_1.ProviderError(\"Unauthorized\", Web3Provider_1.ProviderErrorCode.UNAUTHORIZED);\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw new Web3Provider_1.ProviderError(\"Unsupported method\", Web3Provider_1.ProviderErrorCode.UNSUPPORTED_METHOD);\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const res = await this._relay.signEthereumMessage(message, address, addPrefix, typedDataJson);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied message signature\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const res = await this._relay.ethereumAddressFromSignedMessage(message, signature, addPrefix);\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return this._addresses;\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this._chainId.toString(10);\n    }\n    async _eth_requestAccounts() {\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses\n            });\n        }\n        let res;\n        try {\n            res = await this._relay.requestEthereumAccounts();\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied account authorization\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_ACCOUNTS);\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const message = util_1.ensureBuffer(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = util_1.ensureBuffer(params[0]);\n        const signature = util_1.ensureBuffer(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = util_1.ensureBuffer(params[0]);\n        const address = util_1.ensureAddressString(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = util_1.ensureBuffer(params[0]);\n        const signature = util_1.ensureBuffer(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const res = await this._relay.signEthereumTransaction(tx);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied transaction signature\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = util_1.ensureBuffer(params[0]);\n        const res = await this._relay.submitEthereumTransaction(signedTransaction, this._chainId);\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const res = await this._relay.signAndSubmitEthereumTransaction(tx);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw new Web3Provider_1.ProviderError(\"User denied transaction signature\", Web3Provider_1.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = params[0];\n        const address = util_1.ensureAddressString(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJson = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJson);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const typedData = params[1];\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJson = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJson);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const typedData = params[1];\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJson = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJson);\n    }\n    async _walletlink_arbitrary(params) {\n        const data = params[0];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        const result = await this.arbitraryRequest(data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        preact_1.render(preact_1.h(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => (preact_1.h(SnackbarItem, Object.assign({}, itemProps, { key: key }))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-snackbar-container\", props.darkMode && \"-walletlink-snackbar-container-dark\") },\n    preact_1.h(\"style\", null, Snackbar_css_1.default),\n    preact_1.h(\"div\", { class: \"-walletlink-snackbar\" }, props.children)));\nconst SnackbarItem = ({ message, showProgressBar, actions }) => {\n    const [hidden, setHidden] = hooks_1.useState(true);\n    const [expanded, setExpanded] = hooks_1.useState(false);\n    hooks_1.useEffect(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000)\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-snackbar-item\", hidden && \"-walletlink-snackbar-item-hidden\", expanded && \"-walletlink-snackbar-item-expanded\") },\n        preact_1.h(\"div\", { class: \"-walletlink-snackbar-item-content\", onClick: toggleExpanded },\n            preact_1.h(\"div\", { class: \"-walletlink-snackbar-item-content-message\" }, message),\n            preact_1.h(\"div\", { class: \"-walletlink-snackbar-item-content-chevron\", title: \"Expand\" })),\n        showProgressBar && (preact_1.h(\"div\", { class: \"-walletlink-snackbar-item-progress-bar\" })),\n        actions && actions.length > 0 && (preact_1.h(\"div\", { class: \"-walletlink-snackbar-item-actions\" }, actions.map((action, i) => (preact_1.h(\"div\", { class: \"-walletlink-snackbar-item-actions-item\", key: i },\n            preact_1.h(\"span\", { class: \"-walletlink-snackbar-item-actions-item-info\" }, action.info),\n            preact_1.h(\"button\", { class: \"-walletlink-snackbar-item-actions-item-button\", onClick: action.onClick }, action.buttonLabel))))))));\n};\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","module.exports = require('./lib/api')(require('./lib/keccak'))\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return types_1.HexString(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return types_1.BigIntString(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return types_1.HexString(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return types_1.HexString(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${hex}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = types_1.HexString(\"0\" + h);\n    }\n    return includePrefix ? types_1.HexString(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return types_1.AddressString(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${str}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${str}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return types_1.IntNumber(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return types_1.IntNumber(Number(num));\n        }\n        if (isHexString(num)) {\n            return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${num}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return types_1.RegExpString(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${regExp}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val != null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${val}`);\n}\nexports.ensureBN = ensureBN;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProviderErrorCode;\n(function (ProviderErrorCode) {\n    ProviderErrorCode[ProviderErrorCode[\"USER_DENIED_REQUEST_ACCOUNTS\"] = 4001] = \"USER_DENIED_REQUEST_ACCOUNTS\";\n    ProviderErrorCode[ProviderErrorCode[\"USER_DENIED_CREATE_ACCOUNT\"] = 4010] = \"USER_DENIED_CREATE_ACCOUNT\";\n    ProviderErrorCode[ProviderErrorCode[\"UNAUTHORIZED\"] = 4100] = \"UNAUTHORIZED\";\n    ProviderErrorCode[ProviderErrorCode[\"UNSUPPORTED_METHOD\"] = 4200] = \"UNSUPPORTED_METHOD\";\n    ProviderErrorCode[ProviderErrorCode[\"USER_DENIED_REQUEST_SIGNATURE\"] = -32603] = \"USER_DENIED_REQUEST_SIGNATURE\";\n})(ProviderErrorCode = exports.ProviderErrorCode || (exports.ProviderErrorCode = {}));\nclass ProviderError extends Error {\n    constructor(message, code, data) {\n        super(message || \"Provider Error\");\n        this.code = code;\n        this.data = data;\n        this.name = \"ProviderError\";\n        Object.setPrototypeOf(this, ProviderError.prototype);\n    }\n}\nexports.ProviderError = ProviderError;\n","const P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (let round = 0; round < 24; ++round) {\n    // theta\n    const lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    const hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    const lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    const hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    const lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    const hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    const lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    const hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    const lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    const hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    let lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    let hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    const t1slo0 = s[0] ^ lo\n    const t1shi0 = s[1] ^ hi\n    const t1slo5 = s[10] ^ lo\n    const t1shi5 = s[11] ^ hi\n    const t1slo10 = s[20] ^ lo\n    const t1shi10 = s[21] ^ hi\n    const t1slo15 = s[30] ^ lo\n    const t1shi15 = s[31] ^ hi\n    const t1slo20 = s[40] ^ lo\n    const t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    const t1slo1 = s[2] ^ lo\n    const t1shi1 = s[3] ^ hi\n    const t1slo6 = s[12] ^ lo\n    const t1shi6 = s[13] ^ hi\n    const t1slo11 = s[22] ^ lo\n    const t1shi11 = s[23] ^ hi\n    const t1slo16 = s[32] ^ lo\n    const t1shi16 = s[33] ^ hi\n    const t1slo21 = s[42] ^ lo\n    const t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    const t1slo2 = s[4] ^ lo\n    const t1shi2 = s[5] ^ hi\n    const t1slo7 = s[14] ^ lo\n    const t1shi7 = s[15] ^ hi\n    const t1slo12 = s[24] ^ lo\n    const t1shi12 = s[25] ^ hi\n    const t1slo17 = s[34] ^ lo\n    const t1shi17 = s[35] ^ hi\n    const t1slo22 = s[44] ^ lo\n    const t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    const t1slo3 = s[6] ^ lo\n    const t1shi3 = s[7] ^ hi\n    const t1slo8 = s[16] ^ lo\n    const t1shi8 = s[17] ^ hi\n    const t1slo13 = s[26] ^ lo\n    const t1shi13 = s[27] ^ hi\n    const t1slo18 = s[36] ^ lo\n    const t1shi18 = s[37] ^ hi\n    const t1slo23 = s[46] ^ lo\n    const t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    const t1slo4 = s[8] ^ lo\n    const t1shi4 = s[9] ^ hi\n    const t1slo9 = s[18] ^ lo\n    const t1shi9 = s[19] ^ hi\n    const t1slo14 = s[28] ^ lo\n    const t1shi14 = s[29] ^ hi\n    const t1slo19 = s[38] ^ lo\n    const t1shi19 = s[39] ^ hi\n    const t1slo24 = s[48] ^ lo\n    const t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    const t2slo0 = t1slo0\n    const t2shi0 = t1shi0\n    const t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    const t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    const t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    const t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    const t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    const t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    const t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    const t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    const t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    const t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    const t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    const t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    const t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    const t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    const t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    const t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    const t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    const t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    const t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    const t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    const t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    const t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    const t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    const t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    const t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    const t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    const t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    const t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    const t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    const t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    const t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    const t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    const t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    const t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    const t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    const t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    const t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    const t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    const t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    const t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    const t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    const t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    const t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    const t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    const t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    const t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    const t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    const t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar-item{background-color:#fff;border-radius:8px;box-shadow:0px 16px 24px rgba(0,0,0,.06),0px 0px 8px rgba(0,0,0,.04);display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:hidden;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-item-content{align-items:center;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;padding:8px 8px 8px 16px;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-item-content-message{color:#000;font-size:14px;line-height:1.5}.-walletlink-css-reset .-walletlink-snackbar-item-content-chevron{position:relative;display:block;margin:0 8px;transition:transform .05s}.-walletlink-css-reset .-walletlink-snackbar-item-content-chevron::before{position:relative;top:-2px;content:\"\";display:block;border-top:2px solid #000;border-left:2px solid #000;width:8px;height:8px;transform:rotate(-135deg)}.-walletlink-css-reset .-walletlink-snackbar-item-progress-bar{display:block;height:2px;position:relative}.-walletlink-css-reset .-walletlink-snackbar-item-progress-bar::before{animation:-walletlink-snackbar-progressbar 2s linear infinite;background-image:linear-gradient(to right, rgba(22, 82, 240, 0) 0%, #1652f0 100%);content:\"\";height:100%;left:-100%;position:absolute;width:100%}.-walletlink-css-reset .-walletlink-snackbar-item-actions{display:none;flex-direction:column;border-top:1px solid #f5f7f8;padding:2px 16px 8px}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item{margin:8px 0}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item-info{color:#888;font-size:14px;margin:0 8px 0 0}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item-button{-webkit-appearance:none;-webkit-text-fill-color:#1652f0;background:transparent;color:#1652f0;cursor:pointer;display:inline;font-size:14px;margin:0;padding:0;transition:opacity .25s}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item-button:active{opacity:.6}.-walletlink-css-reset .-walletlink-snackbar-item-hidden{opacity:0;text-align:left;transform:translateX(25%)}.-walletlink-css-reset .-walletlink-snackbar-item-expanded .-walletlink-snackbar-item-content-chevron{transform:rotate(180deg)}.-walletlink-css-reset .-walletlink-snackbar-item-expanded .-walletlink-snackbar-item-actions{display:flex}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-content-message{color:#999}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-content-chevron::before{border-top:2px solid #ccc;border-left:2px solid #ccc}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-progress-bar::before{animation:-walletlink-snackbar-progressbar-dark 2s linear infinite;background-image:linear-gradient(to right, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-actions{border-top:1px solid #343434}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-actions-item-button{-webkit-text-fill-color:#ccc;color:#ccc}@keyframes -walletlink-snackbar-progressbar{0%{left:0;width:0%;background-image:linear-gradient(to right, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}25%{left:0;width:100%}50%{left:100%;width:0%;background-image:linear-gradient(to right, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}50.01%{background-image:linear-gradient(to left, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}75%{left:0;width:100%}100%{left:0;width:0%;background-image:linear-gradient(to left, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}}@keyframes -walletlink-snackbar-progressbar-dark{0%{left:0;width:0%;background-image:linear-gradient(to right, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}25%{left:0;width:100%}50%{left:100%;width:0%;background-image:linear-gradient(to right, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}50.01%{background-image:linear-gradient(to left, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}75%{left:0;width:100%}100%{left:0;width:0%;background-image:linear-gradient(to left, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage) {\n    return { method, errorMessage };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\n"]}